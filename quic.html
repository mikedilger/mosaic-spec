<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>QUIC - Mosaic</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "QUIC";
        var mkdocs_page_input_path = "quic.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".">
          <img src="img/favicon-96x96.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="status.html">Status and Development</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="rationale.html">Rationale</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Identity</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="identity.html">Identity</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Location Service</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="bootstrap.html">Bootstrap</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="url.html">URL</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Data Formats</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="timestamps.html">Timestamps</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="core_tags.html">Core Tags</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="record.html">Record Format</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="human_readable_content.html">Human Readable Content</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="reference.html">References</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Client-Server Protocol</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="network.html">Network architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="transport_requirements.html">Transport requirements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="messages.html">Protocol messages</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="filter.html">Filter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="sync.html">Sync</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Transport layer</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">QUIC</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#streaming-and-framing">Streaming and Framing</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="websockets.html">WebSockets</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Accessory</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="human_encodings.html">Human Encodings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="encrypted_secret_key.html">Encrypted Secret Key</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Registries</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="applications.html">Application Registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="kinds.html">Record Kind Registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="tag_types.html">Tag Type Registry</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Application: Core</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="keyschedule.html">Key Schedule Record</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="profile.html">Profile Record</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="friends.html">Acquaintences and Friends</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="reporting.html">Reporting</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Appendices</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="cryptography.html">Cryptography</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Application: Mosaic Social Media</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="microblog.html">Microblogging</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="blog.html">Blog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="reply_comment.html">Reply Comment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="chat.html">Chat</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">Mosaic</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Transport layer</li>
      <li class="breadcrumb-item active">QUIC</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="mosaic-over-quic">Mosaic over QUIC</h1>
<p><status>PAGE STATUS: Early Draft</status></p>
<p>Mosaic benefits from TLS, but does not benefit from much else that HTTP or WebSockets
provide other than framing. But framing is quite easy.</p>
<p>QUIC brings a lot of performance and usability benefits such as avoiding head-of-line
blocking, fewer roundtrips by design, optional out-of-order delivery, and multiplexing.
It also maintains connections when clients switch networks, for example when mobile
phones switch from WiFi to 4G.</p>
<p>TLS must be version 1.3 only.</p>
<p>The QUIC ALPN used by Mosaic is "mosaic".</p>
<p>The self-signed certificate distinguished name hostname must be "mosaic".</p>
<p>Server-side certificates are required and authenticate the server to the client.
These must use the ED25519 signature scheme and certificate verifier.
The certificate verifier must accept self-signed certificates if they are validly
signed by the public key within, and interpret that public key to be the Mosaic
key of the server.</p>
<p>Client-side certificates are optional and authenticate the client to the server.
These must use the ED25519 signature scheme and certificate verifier.
The certificate verifier must accept self-signed certificates if they are validly
signed by the public key within, and interpret that public key to be the Mosaic
key of the user.</p>
<h2 id="streaming-and-framing">Streaming and Framing</h2>
<p>Clients MAY open multiple streams and write protocol messages into them, however Mosaic
works just fine over a single stream.</p>
<p>Servers MUST handle multiple streams, and reply to protocol messages on the same stream
from which the request came down.</p>
<p>Messages are framed based on their prefix of 1 type byte and 3 length bytes.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="sync.html" class="btn btn-neutral float-left" title="Sync"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="websockets.html" class="btn btn-neutral float-right" title="WebSockets">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  <div>
    <i>Mike Dilger edition, version 0.1.0</i>
  </div>
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="sync.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="websockets.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
