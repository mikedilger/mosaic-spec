
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="identity.html">
      
      
        <link rel="next" href="url.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Bootstrap - Mosaic</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="style.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bootstrap" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Mosaic" class="md-header__button md-logo" aria-label="Mosaic" data-md-component="logo">
      
  <img src="img/favicon-96x96.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mosaic
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bootstrap
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="index.html" class="md-tabs__link">
          
  
  Introduction

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="front.html" class="md-tabs__link">
          
  
  Mosaic Core

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="microblog.html" class="md-tabs__link">
          
  
  App: Social Media

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="applications.html" class="md-tabs__link">
          
  
  Registries

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Mosaic" class="md-nav__button md-logo" aria-label="Mosaic" data-md-component="logo">
      
  <img src="img/favicon-96x96.png" alt="logo">

    </a>
    Mosaic
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="notation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="facts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Technical Facts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="status.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Status and Development
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="principles.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Principles of Design
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Mosaic Core
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Mosaic Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="front.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Front Matter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Identity and Location
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Identity and Location
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="identity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Identity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Bootstrap
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="bootstrap.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Bootstrap
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bootstrap-format" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrap Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrap Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-bootstraps" class="md-nav__link">
    <span class="md-ellipsis">
      Server Bootstraps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-bootstrap" class="md-nav__link">
    <span class="md-ellipsis">
      User Bootstrap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Bootstrap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-usage-character" class="md-nav__link">
    <span class="md-ellipsis">
      Server Usage Character
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-key" class="md-nav__link">
    <span class="md-ellipsis">
      Server Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-of-servers-and-limits-on-their-number" class="md-nav__link">
    <span class="md-ellipsis">
      Usage of servers and limits on their number
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrap-distribution" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrap Distribution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrap Distribution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master-keypairs" class="md-nav__link">
    <span class="md-ellipsis">
      Master keypairs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Master keypairs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#salt" class="md-nav__link">
    <span class="md-ellipsis">
      Salt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence Numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rust-code" class="md-nav__link">
    <span class="md-ellipsis">
      Rust code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="url.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Formats
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Data Formats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="timestamps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timestamps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="kind.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kind
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tags.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="record.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record Format
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="filter.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="human_readable_content.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Human Readable Content
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Protocol
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="network.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="protocol.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Protocol
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="messages.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Protocol messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sync.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sync
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Transports
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Transports
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="transports.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transports
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="websockets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebSockets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QUIC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tcp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TCP with TLS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Accessory
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Accessory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="human_encodings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Human Encodings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="encrypted_secret_key.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Encrypted Secret Key
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core Application
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Core Application
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="keyschedule.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Key Schedule Record
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="profile.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profile Record
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core_tags.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="friends.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acquaintences and Friends
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reporting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Appendices
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Appendices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cryptography.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cryptography
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="rationale.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rationale
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    App: Social Media
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            App: Social Media
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="microblog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microblogging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reply_comment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reply Comment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="blog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="chat.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chat
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Registries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Registries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="applications.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="kinds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record Kind Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tag_types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tag Type Registry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bootstrap-format" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrap Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrap Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-bootstraps" class="md-nav__link">
    <span class="md-ellipsis">
      Server Bootstraps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-bootstrap" class="md-nav__link">
    <span class="md-ellipsis">
      User Bootstrap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Bootstrap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-usage-character" class="md-nav__link">
    <span class="md-ellipsis">
      Server Usage Character
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-key" class="md-nav__link">
    <span class="md-ellipsis">
      Server Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-of-servers-and-limits-on-their-number" class="md-nav__link">
    <span class="md-ellipsis">
      Usage of servers and limits on their number
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrap-distribution" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrap Distribution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrap Distribution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master-keypairs" class="md-nav__link">
    <span class="md-ellipsis">
      Master keypairs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Master keypairs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#salt" class="md-nav__link">
    <span class="md-ellipsis">
      Salt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence Numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rust-code" class="md-nav__link">
    <span class="md-ellipsis">
      Rust code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="bootstrap">Bootstrap</h1>
<p>When you first find out about a new public key, you may already know by the
context if it represents a user or a server. But sometimes you don't even
know that. You also may not know what servers this key uses to host it's
<a href="keyschedule.html">key schedule</a> and <a href="profile.html">profile</a> information, or which
it uses to publish its records or receive messages, or if a server, which URLs
it is available at.</p>
<p>Bootstraps are public digitally signed records designed to let you acquire
this kind of information.</p>
<p>We store bootstraps in Mainline DHT.</p>
<p>Bootstraps are not <a href="record.html">records</a>. They have their own format.</p>
<p>Bootstraps MUST always be signed by a master key, never by a subordinate
key.</p>
<h2 id="bootstrap-format">Bootstrap Format</h2>
<p>Bootstraps are UTF-8 valid text up to 983 <a href="rationale.html#bootstrap-length"><sup>rat</sup></a>
bytes long, and consist of a series of
lines separated with a single ASCII Line Feed (LF) character (<code>\n</code>). Lines
MUST NOT have trailing whitespace.</p>
<p>Two kinds of bootstraps MAY be stored, based on whether the identity
represents a server or a user.</p>
<h3 id="server-bootstraps">Server Bootstraps</h3>
<p>Server bootstraps provide the URLs that a server is available on.</p>
<p>The order of the entries expresses the preference or priority. Earlier
entries are preferred by the server to later ones.</p>
<p>A server bootstrap starts with the line <code>S</code>.</p>
<p>Each subsequent line in a server bootstrap specifies a <a href="url.html">URL</a> where
the server can be accessed.</p>
<p>Here is an example server bootstrap:</p>
<pre><code>S
mosaicwss://myserverlk23lkjsefo8u.onion
mosaictcp://203.0.113.1
mosaic://203.0.113.2:5198
mosaic://[2001::130F::09C0:876A:130B]
</code></pre>
<p>Servers MAY list as many endpoints as they desire.</p>
<p>Servers are expected to operate as their own inbox, outbox and encryption
server. So they do not require the same data as the user bootstrap.</p>
<h3 id="user-bootstrap">User Bootstrap</h3>
<p>User bootstraps specify servers that the user uses, and how the user uses them.</p>
<p>The order of the entries expresses the preference or priority. Earlier entries are
preferred by the user to later ones.</p>
<p>A user bootstrap starts with the line <code>U</code>.</p>
<p>Each line consists of two parts separated by a single ASCII space.</p>
<h4 id="server-usage-character">Server Usage Character</h4>
<p>This first part is a single character that encodes that kind of usage.</p>
<p>Refer to <a href="network.html">Network Architecture</a> for the meanings of <t>Outbox</t>,
<t>Inbox</t> and <t>Encryption</t> servers.</p>
<p>There MAY be other ways to use servers and thus there MAY be other types of server
usages. However, such other server usages are not published in this bootstrap.
Applications can publish a regular record to the users <t>outbox</t> listing additional
application specific servers as necessary.</p>
<p>If there is a strong case for including additional server usages here in the base
Mosaic spec, it may be added here prior to the 1.0 freeze.</p>
<p>Outbox is indicated by bit 0 (<code>1&lt;&lt;0</code>) in the character. A 1 bit means the
server is an outbox server.</p>
<p>Inbox is indicated by bit 1 (<code>1&lt;&lt;1</code>) in the character. A 1 bit means the server
is an inbox server.</p>
<p>Encryption is indicated by bit 2 (<code>1&lt;&lt;2</code>) in the character. A 1 bit means the
server is an encryption server.</p>
<p>Bits 3 and 4 are RESERVED and MUST be 0.</p>
<p>Bits 5 and 6 MUST BE always on. This is an ASCII '0' (48, 0x30). However a <code>0</code>
MUST never be used as a server usage character as this would indicate no
server usages, which is invalid as such a line MUST NOT exist.</p>
<p>Bits 7 and 8 are RESERVED and MUST be 0.</p>
<p>For example, to indicate only outbox usage, use character <code>1</code>. To indicate all
three usages, use <code>7</code>.</p>
<p>Conveniently with this encoding the ASCII number also matches the relavant bits.</p>
<h4 id="server-key">Server Key</h4>
<p>The second part of each line is the server's public key, encoded according to
<a href="human_encodings.html">human encodings</a> as a <code>mosrv0</code>. This are 58 characters
long.</p>
<h4 id="example">Example</h4>
<p>Here is an example user bootstrap:</p>
<pre><code>U
1 mosrv0naeu8zzpu4g9g8jwqkpsrxoje5gwtwzh7bxzkek51mkwbe7x3oqo
3 mosrv04fapk8fyyuoxjuwjwp5cmnuaqtoc519jsmz7qnzjp6r73ect966o
2 mosrv09drnk9atpgk75qkhchyxn63nr7qzd1nfzxr8hk1xw8fd4xsznodo
6 mosrv041wfk1mo87xzt8uazdng9dhhcz9ypzernfyeznhg7me7y9nsjkxy
</code></pre>
<p>Based on size limits of 983 bytes, no more than 16 server entries can be
listed. But see below for other limitations on the number of servers.</p>
<p>Users can change servers and update these bootstrap entries at any time.</p>
<p>Clients SHOULD check for updates to bootstrap records if their cached data
is more than an hour old.</p>
<h4 id="usage-of-servers-and-limits-on-their-number">Usage of servers and limits on their number</h4>
<p><em>Maximums</em>: Users SHOULD list no more than 3 redundant servers of any kind,
since more redundancy provides strongly diminishing benefit at a linearly
increasing network traffic cost. Software MUST utilize the first three
servers of the appropriate kind listed, and MAY tolerate additional servers
but MAY also choose to ignore additional servers.</p>
<p><em>Minimums</em>: Users MUST have at least one outbox and at least one inbox.
Users MAY have no encryption servers, but then they will not be able to
receive encrypted messages.</p>
<h2 id="bootstrap-distribution">Bootstrap Distribution</h2>
<h3 id="master-keypairs">Master keypairs</h3>
<p>We use <t>Mainline DHT</t> <a href="rationale.html#mainline-dht"><sup>rat</sup></a>
to store mutable data signed under an ed25519 signature
according to <a href="https://www.bittorrent.org/beps/bep_0044.html">BitTorrent BEP 0044</a>.</p>
<p>Limitations:</p>
<ul>
<li>Data SHOULD be refreshed every hour, as it MAY expire in 2 hours.
  Users are responsible for arranging for their data to be periodically refreshed
  in the Mainline DHT, which will otherwise disappear over time. Services and
  mechanisms for this are out of scope for Mosaic Core, but servers MAY offer such
  a service.</li>
<li>Data storage and retrieval may take a few seconds, and should not be done too
  frequently. Software SHOULD cache results for at least 30 minutes before checking
  for updates.</li>
<li>To use Mainline DHT, you need to start from a bootstrap node. We list some here
  in the hopes that this helps someone get started, but others exist and you can
  even set up your own using (for example)
  <a href="https://github.com/bittorrent/bootstrap-dht">bootstrap server</a>.<ul>
<li><code>router.bittorrent.com</code> port 6881</li>
<li><code>dht.transmissionbt.com</code> port 6881</li>
<li><code>dht.libtorrent.org</code> port 25401</li>
</ul>
</li>
</ul>
<h4 id="salt">Salt</h4>
<p>We use a <t>salt</t> <a href="rationale.html#salt"><sup>rat</sup></a>  of <code>msb24</code>
for server bootstraps and <code>mub25</code> for user bootstraps.</p>
<h4 id="sequence-numbers">Sequence Numbers</h4>
<p><t>Sequence numbers</t> <a href="rationale.html#sequence-numbers"><sup>rat</sup></a>
SHOULD start at 1 and MUST monotonically increase with each write.</p>
<h4 id="rust-code">Rust code</h4>
<p>There is a rust library to access this called <a href="https://github.com/pubky/mainline">mainline</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
      <div class="md-copyright">
        <i>Mike Dilger edition, version 0.1.2</i>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.path"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>